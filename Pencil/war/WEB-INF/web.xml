<?xml version="1.0" encoding="utf-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns="http://java.sun.com/xml/ns/javaee"
         xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5">
    <welcome-file-list>
        <welcome-file>main.html</welcome-file>
    </welcome-file-list>
	<!-- <security-constraint>
    	<web-resource-collection>
        <web-resource-name>Protected Area</web-resource-name>
        <url-pattern>/*</url-pattern>
    	</web-resource-collection>
    	<user-data-constraint>
        	<transport-guarantee>CONFIDENTIAL</transport-guarantee>
    	</user-data-constraint>
	</security-constraint> -->
    <servlet>
        <servlet-name>login</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.Login</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>login</servlet-name>
        <url-pattern>/login/*</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>logout</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.Logout</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>logout</servlet-name>
        <url-pattern>/logout/*</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>subjectRequest-controller</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.SubjectRequestController</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>subjectRequest-controller</servlet-name>
        <url-pattern>/subjectRequest/*</url-pattern>
    </servlet-mapping>
     <servlet>
        <servlet-name>subjectRequest-dao</servlet-name>
        <servlet-class>nthu.cs.excelsior.model.SubjectRequestDao</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>subjectRequest-dao</servlet-name>
        <url-pattern>/model/business/subjectRequest-dao</url-pattern>
    </servlet-mapping>	
    <servlet>
        <servlet-name>oauth2callback-controller</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.Oauth2callbackController</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>oauth2callback-controller</servlet-name>
        <url-pattern>/oauth2callback/*</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>oauth2callback-dao</servlet-name>
        <servlet-class>nthu.cs.excelsior.model.Oauth2callbackDao</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>oauth2callback-dao</servlet-name>
        <url-pattern>/model/business/oauth2callback-dao</url-pattern>
    </servlet-mapping>
    
    <servlet>
        <servlet-name>fb-oauth2callback-dao</servlet-name>
        <servlet-class>nthu.cs.excelsior.model.FbOauth2callbackDao</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>fb-oauth2callback-dao</servlet-name>
        <url-pattern>/model/business/fb-oauth2callback-dao</url-pattern>
    </servlet-mapping>
    
    <servlet>
        <servlet-name>video-controller</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.VideoController</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>video-controller</servlet-name>
        <url-pattern>/video/*</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>video-delete-controller</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.VideoDeleteController</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>video-delete-controller</servlet-name>
        <url-pattern>/videoDelete/*</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>note-delete-controller</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.NoteDeleteController</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>note-delete-controller</servlet-name>
        <url-pattern>/noteDelete/*</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>video-controller-json-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.VideoJsonView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>video-controller-json-view</servlet-name>
        <url-pattern>/view/video-json-view</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>note-controller</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.NoteController</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>note-controller</servlet-name>
        <url-pattern>/note/*</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>401-not-login-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.Http401NotLoginView</servlet-class>
    </servlet>
      <servlet-mapping>
        <servlet-name>401-not-login-view</servlet-name>
        <url-pattern>/view/401-not-login-view</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>video-delete-dao</servlet-name>
        <servlet-class>nthu.cs.excelsior.model.VideoDeleteDao</servlet-class>
    </servlet>
     <servlet-mapping>
        <servlet-name>video-delete-dao</servlet-name>
        <url-pattern>/model/business/video-delete-dao</url-pattern>
    </servlet-mapping>
     <servlet>
        <servlet-name>note-delete-dao</servlet-name>
        <servlet-class>nthu.cs.excelsior.model.NoteDeleteDao</servlet-class>
    </servlet>
     <servlet-mapping>
        <servlet-name>note-delete-dao</servlet-name>
        <url-pattern>/model/business/note-delete-dao</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>note-dao</servlet-name>
        <servlet-class>nthu.cs.excelsior.model.NoteDao</servlet-class>
    </servlet>
     <servlet-mapping>
        <servlet-name>note-dao</servlet-name>
        <url-pattern>/model/business/note-dao</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>profile-controller-json-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.ProfileJsonView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>profile-controller-json-view</servlet-name>
        <url-pattern>/view/profile-json-view</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>video-delete-json-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.VideoDeleteJsonView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>video-delete-json-view</servlet-name>
        <url-pattern>/view/video-delete-json-view</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>note-delete-json-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.NoteDeleteJsonView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>note-delete-json-view</servlet-name>
        <url-pattern>/view/note-delete-json-view</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>video-dao</servlet-name>
        <servlet-class>nthu.cs.excelsior.model.VideoDao</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>video-dao</servlet-name>
        <url-pattern>/model/business/video-dao</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>video-controller-json-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.VideoJsonView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>video-controller-json-view</servlet-name>
        <url-pattern>/view/video-json-view</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>note-controller-json-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.NoteJsonView</servlet-class>
    </servlet>
	 <servlet-mapping>
        <servlet-name>note-controller-json-view</servlet-name>
        <url-pattern>/view/note-json-view</url-pattern>
    </servlet-mapping>
    
    
    <servlet>
        <servlet-name>loginPage-json-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.LoginPageJsonView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>loginPage-json-view</servlet-name>
        <url-pattern>/view/loginPage-json-view</url-pattern>
    </servlet-mapping>
    
    <servlet>
        <servlet-name>search-controller</servlet-name>
        <servlet-class>nthu.cs.excelsior.control.SearchController</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>search-controller</servlet-name>
        <url-pattern>/search/*</url-pattern>
    </servlet-mapping>
	
	<servlet>
        <servlet-name>search-dao</servlet-name>
        <servlet-class>nthu.cs.excelsior.model.SearchDao</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>search-dao</servlet-name>
        <url-pattern>/model/business/search-dao</url-pattern>
    </servlet-mapping>
    
    <servlet>
        <servlet-name>400-bad-request-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.Http400BadRequestView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>400-bad-request-view</servlet-name>
        <url-pattern>/view/400-bad-request-view</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>404-not-found-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.Http404NotFoundView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>404-not-found-view</servlet-name>
        <url-pattern>/view/404-not-found-view</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>406-not-acceptable-view</servlet-name>
        <servlet-class>nthu.cs.excelsior.view.Http406NotAcceptableView</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>406-not-acceptable-view</servlet-name>
        <url-pattern>/view/406-not-acceptable-view</url-pattern>
    </servlet-mapping>

    <listener>
        <listener-class>nthu.cs.excelsior.service.objectify.ObjectifyInitializer</listener-class>
    </listener>



</web-app>
